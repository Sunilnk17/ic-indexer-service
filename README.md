
## Prerequisites
[GoLang](https://golang.org/dl/) <br>

## Development setup
### Project setup
Set the go path in ~/.bash_profile
```
vi ~/.bash_profile
```

```
export GOPATH="<desired path>"
eg: export GOPATH="/Users/me/go"
```
Create the following folder structure from the go path
```
cd <go path>
eg:cd /Users/me/go
```

### Build and Run Locally
Go to the git repo and run dep to fetch vendor libraries
```
dep ensure
```
Build project
```
go build
```
Run project
```
./drone-navigation-service
```

### Build and Run using Docker

    
```
Install docker
```
Build DockerFile
```
docker build -t <image-name>:<tag> .
```
Run project
```
docker run -d -p 5010:5010  <image-name>:<tag>
```


### Developer Notes

## Swagger

The project is configured with Swagger to leverage the API documentation and also helpful to interact with DNS service from other services using auto generating client files from Swagger.

### Location API

The API is designed by presuming sectorID (Integer) is known to the company and also it is unique across the galaxy. 

## API
```
curl -X GET 'http://localhost:5010/api/v1/location?sectorId=123456&companyId=atlas&x=123.12&y=456.56&z=789.89&vel=20.0'
 ```
## API Params needed
    - sectorId
    - companyId
    - x
    - y
    - z
    - vel
###### Note: CompanyID is needed because we can group the response object to the company they expect and also it is just a config change to suppport for future companies.
  
## API Response
    - code
    - <responseObj> defined in config file 
    - requestId
    
###### Note: _requestId_ is a autogenerated uniqueID that is added in the middleware to append in every request to the server. Later, we can leverge the requestId in LogEntries or NewRelic to identify each request's log information or to observe the performance and transparency of the request.

### TestCases:

Test cases are written and it has 100% of test coverage and code coverage. It includes both *unit test cases* and *API testing*

## Environment based Config files

The project uses config files based on the following environments

    - dev
    - staging
    - uat
    
## Configuration

The configurations need to run the project 

    - server Port Number
    - sectorId & CompanyId & responseName
        
